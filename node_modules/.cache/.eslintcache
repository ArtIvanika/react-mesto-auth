[{"/Users/ivanova.veronika/dev/mesto-react/src/index.js":"1","/Users/ivanova.veronika/dev/mesto-react/src/components/App.js":"2","/Users/ivanova.veronika/dev/mesto-react/src/components/Main.js":"3","/Users/ivanova.veronika/dev/mesto-react/src/components/ImagePopup.js":"4","/Users/ivanova.veronika/dev/mesto-react/src/components/Footer.js":"5","/Users/ivanova.veronika/dev/mesto-react/src/components/PopupWithForm.js":"6","/Users/ivanova.veronika/dev/mesto-react/src/components/Header.js":"7","/Users/ivanova.veronika/dev/mesto-react/src/components/Card.js":"8","/Users/ivanova.veronika/dev/mesto-react/src/utils/Api.js":"9","/Users/ivanova.veronika/dev/mesto-react/src/contexts/CurrentUserContext.js":"10","/Users/ivanova.veronika/dev/mesto-react/src/components/EditProfilePopup.js":"11","/Users/ivanova.veronika/dev/mesto-react/src/components/EditAvatarPopup.js":"12","/Users/ivanova.veronika/dev/mesto-react/src/components/AddPlacePopup.js":"13","/Users/ivanova.veronika/dev/react-mesto-auth/src/index.js":"14","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/App.js":"15","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Register.js":"16","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Main.js":"17","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/EditProfilePopup.js":"18","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Header.js":"19","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/AddPlacePopup.js":"20","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/EditAvatarPopup.js":"21","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Footer.js":"22","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/PopupWithForm.js":"23","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/ImagePopup.js":"24","/Users/ivanova.veronika/dev/react-mesto-auth/src/contexts/CurrentUserContext.js":"25","/Users/ivanova.veronika/dev/react-mesto-auth/src/utils/Api.js":"26","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Card.js":"27","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Login.js":"28","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/ ProtectedRoute.js":"29","/Users/ivanova.veronika/dev/react-mesto-auth/src/utils/auth.js":"30","/Users/ivanova.veronika/dev/react-mesto-auth/src/components/InfoTooltip.js":"31"},{"size":266,"mtime":1682086404294,"results":"32","hashOfConfig":"33"},{"size":6171,"mtime":1683348089770,"results":"34","hashOfConfig":"33"},{"size":1678,"mtime":1683205353656,"results":"35","hashOfConfig":"33"},{"size":647,"mtime":1682086367676,"results":"36","hashOfConfig":"33"},{"size":210,"mtime":1683430263231,"results":"37","hashOfConfig":"33"},{"size":743,"mtime":1683278423902,"results":"38","hashOfConfig":"33"},{"size":268,"mtime":1681976140242,"results":"39","hashOfConfig":"33"},{"size":1699,"mtime":1683205317408,"results":"40","hashOfConfig":"33"},{"size":2467,"mtime":1683351771667,"results":"41","hashOfConfig":"33"},{"size":82,"mtime":1683117011467,"results":"42","hashOfConfig":"33"},{"size":2436,"mtime":1683277683275,"results":"43","hashOfConfig":"33"},{"size":1148,"mtime":1683277380662,"results":"44","hashOfConfig":"33"},{"size":2025,"mtime":1683277415044,"results":"45","hashOfConfig":"33"},{"size":360,"mtime":1684243755227,"results":"46","hashOfConfig":"47"},{"size":9323,"mtime":1684934375177,"results":"48","hashOfConfig":"47"},{"size":1695,"mtime":1684930578707,"results":"49","hashOfConfig":"47"},{"size":1678,"mtime":1683205353656,"results":"50","hashOfConfig":"47"},{"size":2436,"mtime":1683277683275,"results":"51","hashOfConfig":"47"},{"size":1088,"mtime":1684932757793,"results":"52","hashOfConfig":"47"},{"size":2025,"mtime":1683277415044,"results":"53","hashOfConfig":"47"},{"size":1148,"mtime":1683277380662,"results":"54","hashOfConfig":"47"},{"size":210,"mtime":1683430263231,"results":"55","hashOfConfig":"47"},{"size":743,"mtime":1683278423902,"results":"56","hashOfConfig":"47"},{"size":647,"mtime":1682086367676,"results":"57","hashOfConfig":"47"},{"size":82,"mtime":1683117011467,"results":"58","hashOfConfig":"47"},{"size":2467,"mtime":1683351771667,"results":"59","hashOfConfig":"47"},{"size":1699,"mtime":1683205317408,"results":"60","hashOfConfig":"47"},{"size":1733,"mtime":1684930170774,"results":"61","hashOfConfig":"47"},{"size":289,"mtime":1684303806611,"results":"62","hashOfConfig":"47"},{"size":1215,"mtime":1684929569780,"results":"63","hashOfConfig":"47"},{"size":711,"mtime":1684933474162,"results":"64","hashOfConfig":"47"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"18q0ehy",{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},"15sdwla",{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"146","messages":"147","suppressedMessages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"155","messages":"156","suppressedMessages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","suppressedMessages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ivanova.veronika/dev/mesto-react/src/index.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/App.js",["161","162"],[],"import Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  //попап удаления\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    item: {},\n  });\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  //попап удаления\n  function handleDeleteCardClick() {\n    setIsDeleteCardPopupOpen(true);\n  }\n\n  // function handleIsLoading(){\n\n  // }\n\n  // закрытие всех попапов\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      item: {},\n    });\n  }\n\n  const isOpen =\n    isEditAvatarPopupOpen ||\n    isEditProfilePopupOpen ||\n    isAddPlacePopupOpen ||\n    selectedCard.isOpen;\n\n//закрытие по \"Escape\"\n  React.useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      // навешиваем только при открытии\n      document.addEventListener(\"keydown\", closeByEscape);\n      return () => {\n        document.removeEventListener(\"keydown\", closeByEscape);\n      };\n    }\n  }, [isOpen]);\n\n\n  function handleUpdateUser(name, about) {\n    setIsLoading(true)\n    api\n      .editUserInfo(name, about)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {setIsLoading(false)})\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true)\n    api\n      .editUserAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {setIsLoading(false)})\n  }\n\n  function handleAddPlaceSubmit(name, link) {\n    setIsLoading(true)\n    api\n      .addNewCard(name, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {setIsLoading(false)})\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    if (!isLiked) {\n      // Отправляем запрос в API и получаем обновлённые данные карточки\n      api\n        .putLike(card._id, !isLiked)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => console.log(err));\n    } else {\n      api\n        .deleteLike(card._id, !isLiked)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then((newCard) => {\n        const newCards = cards.filter((c) =>\n          c._id === card._id ? \"\" : newCard\n        );\n        setCards((state) => state.filter((item) => item._id !== card._id));\n        //setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={setSelectedCard}\n            // onCardDeletePopup={handleDeleteCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isLoading={isLoading}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isLoading={isLoading}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            isLoading={isLoading}\n          />\n          <PopupWithForm\n            name=\"delete\"\n            title=\"Вы уверены?\"\n            isOpen={isDeleteCardPopupOpen}\n            onClose={closeAllPopups}\n            btnText=\"Да\"\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/ivanova.veronika/dev/mesto-react/src/components/Main.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/ImagePopup.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/Footer.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/PopupWithForm.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/Header.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/Card.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/utils/Api.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/contexts/CurrentUserContext.js",[],[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/EditProfilePopup.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/EditAvatarPopup.js",[],[],"/Users/ivanova.veronika/dev/mesto-react/src/components/AddPlacePopup.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/index.js",[],[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/App.js",["163","164","165"],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Register.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Main.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/EditProfilePopup.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Header.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/AddPlacePopup.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/EditAvatarPopup.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Footer.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/PopupWithForm.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/ImagePopup.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/contexts/CurrentUserContext.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/utils/Api.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Card.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/Login.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/ ProtectedRoute.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/utils/auth.js",[],[],"/Users/ivanova.veronika/dev/react-mesto-auth/src/components/InfoTooltip.js",[],[],{"ruleId":"166","severity":1,"message":"167","line":51,"column":12,"nodeType":"168","messageId":"169","endLine":51,"endColumn":33},{"ruleId":"166","severity":1,"message":"170","line":160,"column":15,"nodeType":"168","messageId":"169","endLine":160,"endColumn":23},{"ruleId":"166","severity":1,"message":"167","line":62,"column":12,"nodeType":"168","messageId":"169","endLine":62,"endColumn":33},{"ruleId":"166","severity":1,"message":"170","line":177,"column":15,"nodeType":"168","messageId":"169","endLine":177,"endColumn":23},{"ruleId":"171","severity":1,"message":"172","line":240,"column":6,"nodeType":"173","endLine":240,"endColumn":8,"suggestions":"174"},"no-unused-vars","'handleDeleteCardClick' is defined but never used.","Identifier","unusedVar","'newCards' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'checkAuthToken'. Either include it or remove the dependency array.","ArrayExpression",["175"],{"desc":"176","fix":"177"},"Update the dependencies array to be: [checkAuthToken]",{"range":"178","text":"179"},[6427,6429],"[checkAuthToken]"]