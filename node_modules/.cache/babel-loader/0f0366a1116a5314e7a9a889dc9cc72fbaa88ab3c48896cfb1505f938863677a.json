{"ast":null,"code":"import _slicedToArray from\"/Users/ivanova.veronika/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,props.isOpen]);function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nprops.onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"author\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,btnText:props.isLoading?'Сохранение...':'Сохранить',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup__input\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"author-name-input\",type:\"text\",value:name||'',onChange:handleNameChange,name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",className:\"popup__info popup__info_input_name\",minLength:\"2\",maxLength:\"40\",required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"author-name-input-error popup__info-error\",children:\"\\u041D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u043D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C \\u0432\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup__input\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"job-author-input\",type:\"text\",value:description||'',onChange:handleDescriptionChange,name:\"about\",placeholder:\"\\u0412\\u0438\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",className:\"popup__info popup__info_input_job\",minLength:\"2\",maxLength:\"200\",required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"job-author-input-error popup__info-error\",children:\"\\u041D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u043D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C \\u0432\\u0438\\u0434 \\u0432\\u0430\\u0448\\u0435\\u0439 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\"})]})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","props","_React$useState","useState","_React$useState2","_slicedToArray","name","setName","_React$useState3","_React$useState4","description","setDescription","currentUser","useContext","useEffect","about","isOpen","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","onUpdateUser","title","onClose","onSubmit","btnText","isLoading","children","className","id","type","onChange","placeholder","minLength","maxLength","required"],"sources":["/Users/ivanova.veronika/dev/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState();\n  const [description, setDescription] = React.useState();\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"author\"\n      title=\"Редактировать профиль\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      btnText={props.isLoading? 'Сохранение...' : 'Сохранить'}\n    >\n      <div className=\"popup__input\">\n        <input\n          id=\"author-name-input\"\n          type=\"text\"\n          value={name || ''}\n          onChange={handleNameChange}\n          name=\"name\"\n          placeholder=\"Имя\"\n          className=\"popup__info popup__info_input_name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required=\"\"\n        />\n        <span className=\"author-name-input-error popup__info-error\">\n          Необходимо написать ваше имя\n        </span>\n      </div>\n      <div className=\"popup__input\">\n        <input\n          id=\"job-author-input\"\n          type=\"text\"\n          value={description || ''}\n          onChange={handleDescriptionChange}\n          name=\"about\"\n          placeholder=\"Вид деятельности\"\n          className=\"popup__info popup__info_input_job\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required=\"\"\n        />\n        <span className=\"job-author-input-error popup__info-error\">\n          Необходимо написать вид вашей деятельности\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}